<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>My Blog</title>
    <description>Leaning and function with your new object.</description>
    <link>https://wangpengcheng.github.io//</link>
    <atom:link href="https://wangpengcheng.github.io//feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Mon, 20 Jun 2022 16:48:19 +0000</pubDate>
    <lastBuildDate>Mon, 20 Jun 2022 16:48:19 +0000</lastBuildDate>
    <generator>Jekyll v4.2.0</generator>
    
      <item>
        <title>领域驱动模型</title>
        <description>&lt;h1 id=&quot;领域驱动模型&quot;&gt;领域驱动模型&lt;/h1&gt;

&lt;h2 id=&quot;参考连接&quot;&gt;&lt;em&gt;参考连接&lt;/em&gt;&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/109114670&quot;&gt;领域驱动设计(DDD)-基础思想&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/130945830&quot;&gt;领域驱动设计(DDD)-简单落地&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://tech.meituan.com/2017/12/22/ddd-in-practice.html&quot;&gt;领域驱动设计在互联网业务开发中的实践&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/wlandwl/p/ddd_one.html&quot;&gt;DDD领域驱动设计-概述&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/wlandwl/tag/DDD%20%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/&quot;&gt;DDD领域驱动设计&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://segmentfault.com/a/1190000038419518&quot;&gt;API怎么选？比较SOAP、REST、GraphQL和RPC&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Sat, 29 Jan 2022 00:00:00 +0000</pubDate>
        <link>https://wangpengcheng.github.io//2022/01/29/domain_driven_design_learn/</link>
        <guid isPermaLink="true">https://wangpengcheng.github.io//2022/01/29/domain_driven_design_learn/</guid>
        
        <category>linux源码</category>
        
        <category>C++</category>
        
        <category>学习笔记</category>
        
        
      </item>
    
      <item>
        <title>Linux 0.11 核心代码 学习笔记</title>
        <description>&lt;h1 id=&quot;linux-011-核心代码-学习笔记一&quot;&gt;Linux 0.11 核心代码 学习笔记(一)&lt;/h1&gt;

&lt;h2 id=&quot;参考连接&quot;&gt;&lt;em&gt;参考连接&lt;/em&gt;&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/sunym1993/flash-linux0.11-talk&quot;&gt;Github项目地址&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Sat, 29 Jan 2022 00:00:00 +0000</pubDate>
        <link>https://wangpengcheng.github.io//2022/01/29/linux_0.11_code_reading/</link>
        <guid isPermaLink="true">https://wangpengcheng.github.io//2022/01/29/linux_0.11_code_reading/</guid>
        
        <category>linux源码</category>
        
        <category>C++</category>
        
        <category>学习笔记</category>
        
        
      </item>
    
      <item>
        <title>x86汇编从实模式到保护模式</title>
        <description>&lt;h1 id=&quot;x86汇编从实模式到保护模式&quot;&gt;x86汇编从实模式到保护模式&lt;/h1&gt;

&lt;h2 id=&quot;参考连接&quot;&gt;&lt;em&gt;参考连接&lt;/em&gt;&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/sunym1993/flash-linux0.11-talk/blob/main/%E4%B8%80%E4%BA%9B%E9%9D%9E%E5%BF%85%E8%A6%81%E7%9A%84%E8%B5%84%E6%96%99/x86%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80_%E4%BB%8E%E5%AE%9E%E6%A8%A1%E5%BC%8F%E5%88%B0%E4%BF%9D%E6%8A%A4%E6%A8%A1%E5%BC%8F(%E5%AE%8C%E6%95%B4%E6%89%AB%E6%8F%8F%E7%89%88).pdf&quot;&gt;书籍地址&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;第二章-处理器内存和指令&quot;&gt;第二章 处理器、内存和指令&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;内存存储: 存储器(Storage或Memory) 表示机器中的存储单元，单次访问就能够处理8、16、32位或者64位的二进制数，将数据交给中央处理器进行操作&lt;/li&gt;
  &lt;li&gt;指令和指令集合：处理器接受指令进行运算，不同的指令有着不同的作用，CPU根据指令进行下一步的相关操作，包含操作码和操作数构成，指令长度为1-15字节，主要取决于CPU寄存器的大小，指令参数可以立即从指令中取得称为立即数。处理器可以根据指令知道指令的长度并进行下一次指令的存取
    &lt;ul&gt;
      &lt;li&gt;因为处理器与内存之间的数据线连接方式不同造成的大小端：Intel 使用小端进行处理&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;../img/2022-01-29-21-11-58.png&quot; alt=&quot;中间显示图像&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;古老的Intel 8086 处理器：含有8个16位的寄存器，分别为AX、BX、CX、DX、SI、DI、BP、SP
    &lt;ul&gt;
      &lt;li&gt;连续的指令集合就是程序的段–代码段&lt;/li&gt;
      &lt;li&gt;连续的数据的集合–数据段&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;内存分段机制：为了防止不同程序之间的数据相互访问，每个段内地址，只能相对自己所在的段进行地址偏移进行访问&lt;/li&gt;
  &lt;li&gt;代码段寄存器(Code Segment, CS)、数据段寄存器(Data Segment, DS): 支持地址段:偏移地址的内存访问模式，处理器访问内存时将指令中的内存地址当做段内的偏移地址。将DS中的数据段起始地址看做段内的偏移地址&lt;/li&gt;
  &lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;第三章-汇编语言和汇编软件&quot;&gt;第三章 汇编语言和汇编软件&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;参考链接：&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/chen1415886044/article/details/104698084&quot;&gt;Linux下objdump二进制文件分析(反汇编常用)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/chen1415886044/article/details/104676631&quot;&gt;Linux调试工具之readelf命令&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/lsgxeva/p/8733143.html&quot;&gt;hexedit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Sat, 29 Jan 2022 00:00:00 +0000</pubDate>
        <link>https://wangpengcheng.github.io//2022/01/29/X86_assembly/</link>
        <guid isPermaLink="true">https://wangpengcheng.github.io//2022/01/29/X86_assembly/</guid>
        
        <category>linux源码</category>
        
        <category>C++</category>
        
        <category>学习笔记</category>
        
        
      </item>
    
      <item>
        <title>武海拾遗录(二)</title>
        <description>&lt;h1 id=&quot;武海拾遗录二&quot;&gt;武海拾遗录(二)&lt;/h1&gt;

&lt;blockquote&gt;
  &lt;p&gt;2021-11-29 00:45:58&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;参考链接:&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://wangpengcheng.github.io/2020/03/12/http_interview/&quot;&gt;http面试总结&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;1-sql注入xss和csrf常见安全漏洞&quot;&gt;1. sql注入、XSS和CSRF常见安全漏洞&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/371414280&quot;&gt;安全漏洞XSS、CSRF、SQL注入以及DDOS攻击&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/rinack/p/11549410.html&quot;&gt;安全漏洞XSS、CSRF、SQL注入以及DDOS攻击&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;2-sessioncookie&quot;&gt;2. session/cookie&lt;/h2&gt;

&lt;h3 id=&quot;21-sessioncookie的差别和联系是什么&quot;&gt;2.1 session/cookie的差别和联系是什么&lt;/h3&gt;
&lt;p&gt;详见:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://wangpengcheng.github.io/2020/03/12/http_interview/#13-cookie%E4%B8%8Esession%E5%8C%BA%E5%88%AB&quot;&gt;cookie与session区别&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/63061864&quot;&gt;彻底理解cookie，session，token&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;22-为何以及如何进行session进行集中存储&quot;&gt;2.2 为何以及如何进行session进行集中存储&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/26781989&quot;&gt;Session存储方式&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/415701372&quot;&gt;一篇文章弄懂session的两种存储方式&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/91255268&quot;&gt;Session+Redis实现Session共享&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/31404516&quot;&gt;sessionStorage和session cookie&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/161613562&quot;&gt;4种分布式一致性Session实现方式&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/281414244&quot;&gt;cookie、session、token、jwt、单点登录&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;3--sso&quot;&gt;3.  SSO&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://wangpengcheng.github.io/2019/12/17/baidu_interview_prepare/#546-%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95%E4%BA%86%E8%A7%A3%E5%90%97&quot;&gt;SSO相关&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/66037342&quot;&gt;SSO&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/38942172&quot;&gt;JWT替代session管理（上）：全面了解Token,JWT,OAuth,SAML,SSO&lt;/a&gt;
    &lt;h3 id=&quot;31-sso解决了什么问题&quot;&gt;3.1 SSO解决了什么问题&lt;/h3&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;32-sso-如何进行设计与实现&quot;&gt;3.2 SSO 如何进行设计与实现&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.zhihu.com/search?type=content&amp;amp;q=SSO%20%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0&quot;&gt;SSO 设计与实现&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/122852128&quot;&gt;OAuth2 实现单点登录 SSO&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/noaman_wgs/article/details/103483349&quot;&gt;接口鉴权功能的实现&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.51cto.com/u_14785218/2878553&quot;&gt;4种常见的鉴权方式及说明&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;4-http&quot;&gt;4. HTTP&lt;/h2&gt;
&lt;h3 id=&quot;41-http-常见的返回码&quot;&gt;4.1 HTTP 常见的返回码&lt;/h3&gt;
&lt;p&gt;详见:
&lt;a href=&quot;https://wangpengcheng.github.io/2020/03/12/http_interview/#71-%E4%B8%89%E8%87%B3%E4%B8%83%E7%A7%8D%E6%9C%80%E5%9F%BA%E6%9C%AC%E7%9A%84%E5%93%8D%E5%BA%94%E4%BB%A3%E7%A0%81&quot;&gt;HTTP常见状态码&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;42-http-常见的header&quot;&gt;4.2 HTTP 常见的header&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://wangpengcheng.github.io/2020/03/12/http_interview/#%E5%B8%B8%E8%A7%81%E7%9A%84%E9%A6%96%E9%83%A8&quot;&gt;常见首部&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;43-https握手过程&quot;&gt;4.3 HTTPS握手过程&lt;/h3&gt;

&lt;p&gt;详见：&lt;a href=&quot;https://wangpengcheng.github.io/2020/03/12/http_interview/#8-https%E7%9A%84%E8%AF%B7%E6%B1%82%E6%B5%81%E7%A8%8B&quot;&gt;HTTPS握手过程&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;5-cdn架构与详解&quot;&gt;5. CDN架构与详解&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/vincenshen/articles/6837333.html&quot;&gt;SDN&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/364535948&quot;&gt;小白基础-SDN详解&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;SDN即软件定义网络（software Defined Netwark），是一种Emulex网络得一种新型网络架构，致力于改变传统网络得弊端，是网络虚拟化的一种实现方式。&lt;/p&gt;

&lt;p&gt;OpenFlow通过将网络设备的控制权和数据面分离，由集中的控制器管理，无需依赖底层的网络设备（路由器，交换机，防火墙），屏蔽了底层网络得差异性，而控制权完全由胡勇决定。
传统网络的弊端：扩展能力差，如果业务需求有变化，需要重新相应网络设备，这是件非常繁琐的事情。&lt;/p&gt;

&lt;p&gt;SDN的优势：自定义划，开放性，可拓展，配置简单。&lt;/p&gt;

&lt;p&gt;意义:正是因为这种业务逻辑的开放性，使得网络作为“管道”的发展空间变为无限可能。如果未来云计算的业务应用模型可以简化为“云—管—端”，那么SDN就是 “管”这一环的重要技术支撑。&lt;/p&gt;
&lt;h2 id=&quot;6-dns-解析过程&quot;&gt;6. DNS 解析过程&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://wangpengcheng.github.io/2019/12/17/baidu_interview_prepare/#529-dnsdomain-name-system-%E6%98%AF%E5%B9%B2%E4%BB%80%E4%B9%88%E7%9A%84&quot;&gt;DNS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;7-微服务&quot;&gt;7. 微服务&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E5%BE%AE%E6%9C%8D%E5%8B%99&quot;&gt;微服务定义&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.redhat.com/zh/topics/microservices/what-are-microservices&quot;&gt;什么是微服务&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/381847108&quot;&gt;什么是微服务–知乎&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/25843782&quot;&gt;重新理解微服务&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.zhihu.com/question/307537564/answer/583653317&quot;&gt;Docker，K8S，KVM，Hypervisor和微服务有什么区别联系吗&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.zhihu.com/question/65502802&quot;&gt;微服务架构&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://oopsguy.com/books/microservices/index.html&quot;&gt;微服务从设计到部署&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://gudaoxuri.gitbook.io/microservices-architecture/wei-fu-wu-hua-zhi-ji-shu-jia-gou/api-protocol-select&quot;&gt;微服务架构架构设计&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;71-为什么要用微服务&quot;&gt;7.1 为什么要用微服务&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.redhat.com/zh/topics/microservices/what-are-microservices&quot;&gt;优势&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;72-微服务的发现负载均衡过载保护限流目的是什么如何实现&quot;&gt;7.2 微服务的发现、负载均衡、过载保护、限流目的是什么，如何实现&lt;/h3&gt;

&lt;h4 id=&quot;721-微服务的发现&quot;&gt;7.2.1 微服务的发现&lt;/h4&gt;

&lt;h4 id=&quot;722-微服务负载均衡&quot;&gt;7.2.2 微服务负载均衡&lt;/h4&gt;

&lt;h4 id=&quot;723-微服务负载均衡&quot;&gt;7.2.3 微服务负载均衡&lt;/h4&gt;

&lt;h4 id=&quot;724-过载保护&quot;&gt;7.2.4 过载保护&lt;/h4&gt;

&lt;h4 id=&quot;725-限流目的&quot;&gt;7.2.5 限流目的&lt;/h4&gt;

&lt;h2 id=&quot;8-字符集&quot;&gt;8. 字符集&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/softwarenb/article/details/51994943?spm=1001.2101.3001.6650.1&amp;amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7Edefault-1.essearch_pc_relevant&amp;amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7Edefault-1.essearch_pc_relevant&quot;&gt;深入理解-字符编码ASCII,GB2312,GBK,Unicode,UTF-8&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/qq_39390545/article/details/106946166&quot;&gt;MySQL中的 utf8 并不是真正的UTF-8编码 ! !&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;81-字符集合是什么&quot;&gt;8.1 字符集合是什么&lt;/h3&gt;

&lt;h3 id=&quot;82-那些地方会涉及到字符集&quot;&gt;8.2 那些地方会涉及到字符集&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;mysql&lt;/li&gt;
  &lt;li&gt;编码存储&lt;/li&gt;
  &lt;li&gt;跨平台&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;83-如何正确选择字符集&quot;&gt;8.3 如何正确选择字符集&lt;/h3&gt;

&lt;h3 id=&quot;84-怎么做一个多语言支持的web系统&quot;&gt;8.4 怎么做一个多语言支持的Web系统&lt;/h3&gt;

</description>
        <pubDate>Sun, 28 Nov 2021 00:00:00 +0000</pubDate>
        <link>https://wangpengcheng.github.io//2021/11/28/interview_01/</link>
        <guid isPermaLink="true">https://wangpengcheng.github.io//2021/11/28/interview_01/</guid>
        
        <category>面经</category>
        
        <category>考试</category>
        
        
      </item>
    
      <item>
        <title>go-gin源码阅读</title>
        <description>&lt;h1 id=&quot;go-gin源码阅读笔记-&quot;&gt;go-gin源码阅读笔记(-)&lt;/h1&gt;

&lt;blockquote&gt;
  &lt;p&gt;2021-10-06 19:45:58&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;参考链接:&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/gin-gonic/gin.git&quot;&gt;github源码地址&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://gin-gonic.com/docs/&quot;&gt;gin官方文档&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://juejin.cn/post/6867175135762841607&quot;&gt;全网最详细的gin源码解析&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/372097558&quot;&gt;Gin源码分析系列之Engine篇&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Sun, 26 Sep 2021 00:00:00 +0000</pubDate>
        <link>https://wangpengcheng.github.io//2021/09/26/gin_source_code_reading/</link>
        <guid isPermaLink="true">https://wangpengcheng.github.io//2021/09/26/gin_source_code_reading/</guid>
        
        <category>go</category>
        
        <category>gin</category>
        
        <category>阅读笔记</category>
        
        
      </item>
    
      <item>
        <title>学习KVM(一)</title>
        <description>&lt;h1 id=&quot;kvm学习阅读笔记&quot;&gt;KVM学习阅读笔记&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;2021-09-26 23:45:58&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;参考链接：&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://yifengyou.github.io/learn-kvm/&quot;&gt;GitPage&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/yifengyou/learn-kvm&quot;&gt;GitHub&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://yifengyou.gitbooks.io/learn-kvm/content/&quot;&gt;GitBook&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;1-虚拟化技术简介&quot;&gt;1. 虚拟化技术简介&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;云计算：
    &lt;ul&gt;
      &lt;li&gt;云计算是一种通过因特网以服务的方式提供动态可伸缩的虚拟化的资源的计算模式。&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;虚拟化!=云计算&lt;/strong&gt;
        &lt;ul&gt;
          &lt;li&gt;云计算是网格计算、分布式计算、并行计算、效用计算、网络存储、虚拟化、负载均衡等传统计算机技术和网络技术发展融合的产物。通过网络把多个成本较低的计算实体整合成一个强大计算能力的完美系统。借助三种云计算模式交付到用户手中。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;云计算模式：
    &lt;ul&gt;
      &lt;li&gt;软件即服务(Software as a Service)&lt;/li&gt;
      &lt;li&gt;平台即服务(Platform as a Service)&lt;/li&gt;
      &lt;li&gt;基础设施即服务(Insfrastructure as a Service)&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://yifengyou.github.io/learn-kvm/docs/%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF%E7%AE%80%E4%BB%8B/image/1531895455977.png&quot; alt=&quot;&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://yifengyou.github.io/learn-kvm/docs/%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF%E7%AE%80%E4%BB%8B/image/1531895794254.png&quot; alt=&quot;&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;云计算的本质：
    &lt;ul&gt;
      &lt;li&gt;说白了就是资源充分利用，同时节省时间高效作业。由运营商提供计算服务。&lt;/li&gt;
      &lt;li&gt;云端的云计算系统，实质就是大型的分布式系统。虚拟化通过一个物理平台虚拟出多个虚拟平台，而其中每个虚拟平台都可以作为独立的终端加入云端的分布式系统。&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://yifengyou.github.io/learn-kvm/docs/%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF%E7%AE%80%E4%BB%8B/image/1531988018906.png&quot; alt=&quot;&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;虚拟化的本质:
    &lt;ul&gt;
      &lt;li&gt;虚拟化是对资源的逻辑抽象、隔离、再分配、管理的一个过程，通常对虚拟化的理解有广义狭义之分。广义包括平台虚拟化、应用程序虚拟化、存储虚拟化、网络虚拟化、设备虚拟化等等。狭义的虚拟化专门指计算机上模拟运行多个操作系统平台。
        &lt;ul&gt;
          &lt;li&gt;服务虚拟化&lt;/li&gt;
          &lt;li&gt;软件虚拟化&lt;/li&gt;
          &lt;li&gt;框架虚拟化&lt;/li&gt;
          &lt;li&gt;操作系统虚拟化&lt;/li&gt;
          &lt;li&gt;硬件虚拟化&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;虚拟化的分类：
    &lt;ul&gt;
      &lt;li&gt;支持层次的划分：
        &lt;ul&gt;
          &lt;li&gt;软件虚拟化：将系统指令进行拦截和重新翻译
            &lt;ul&gt;
              &lt;li&gt;纯软件翻译：QEMU&lt;/li&gt;
              &lt;li&gt;动态二进制翻译：VMware&lt;/li&gt;
              &lt;li&gt;注意：特权指令需要通过模拟中断进行实现。&lt;/li&gt;
              &lt;li&gt;优点：成本低，部署方便。缺点：两次翻译，性能一般。&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;硬件虚拟化：由硬件提供基础的指令拦截和翻译
            &lt;ul&gt;
              &lt;li&gt;Intel便开始推广应用Intel Virtualization Technology（Intel VT）虚拟化技术&lt;/li&gt;
              &lt;li&gt;指令不需要经过两次转换，直接到达CPU，就好像虚拟机与客户机处于同一地位。&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;CPU虚拟化：软件抽象物理CPU以方便工作负载（进程线程）使用计算资源&lt;/li&gt;
          &lt;li&gt;内存虚拟化：让CPU虚拟化出来的虚拟进程线程使用共享内存。&lt;/li&gt;
          &lt;li&gt;网络虚拟化：本质就是，共享网络资源。虚拟机间的通信不需要流经网线，省带宽。&lt;/li&gt;
          &lt;li&gt;存储虚拟化：NAS就是典例。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;从虚拟平台的角度划分：
        &lt;ul&gt;
          &lt;li&gt;半虚拟化(Para Virtualization)：通过系统API的方式，将系统功能由母机提供给子机器。不需要额外的翻译，但是一般需要客户子机安装对应的模块支持。&lt;/li&gt;
          &lt;li&gt;全虚拟化(Full Virtualization)(硬件辅助虚拟化)：虚拟机（VM）和硬件之间加了一个软件层–Hypervisor，或者叫做虚拟机管理程序（VMM）。VMM分为两类：
            &lt;ul&gt;
              &lt;li&gt;KVM：直接行在物理硬件之上，基于操作系统的Hypervisor&lt;/li&gt;
              &lt;li&gt;QEMU：在操作系统之上通过，硬件模拟进行相关操作。&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;从虚拟化实现结构划分：
        &lt;ul&gt;
          &lt;li&gt;Hypervisor型虚拟化：本质就是硬件之上没有完整的OS，直接就是Hypervisor,典型的VMware vsphere。&lt;/li&gt;
          &lt;li&gt;宿主模型虚拟化(host模型)：依赖一个操作系统实现关键驱动，如Xen。&lt;/li&gt;
          &lt;li&gt;混合模型虚拟化：普通操作系统，但是有些硬件权限直接交给Hypervisor，缺点是特权操作系统提供服务的时候会出现上下文切换，开销比较大。如KVM。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;虚拟化模型：
    &lt;ul&gt;
      &lt;li&gt;&lt;strong&gt;虚拟化技术的核心是CPU虚拟化，只要处理器虚拟化技术支持“截获并重定向”，内存和IO设备的虚拟化都可以基于CPU虚拟化之上实现。&lt;/strong&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Sun, 26 Sep 2021 00:00:00 +0000</pubDate>
        <link>https://wangpengcheng.github.io//2021/09/26/learn_kvm/</link>
        <guid isPermaLink="true">https://wangpengcheng.github.io//2021/09/26/learn_kvm/</guid>
        
        <category>KVM</category>
        
        <category>QEMU</category>
        
        <category>阅读笔记</category>
        
        
      </item>
    
      <item>
        <title>go语言设计与实现(一)</title>
        <description>&lt;h1 id=&quot;go语言设计与实现阅读笔记-&quot;&gt;go语言设计与实现阅读笔记(-)&lt;/h1&gt;

&lt;blockquote&gt;
  &lt;p&gt;2021-08-31 00:45:58&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;参考链接：&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/draveness/go-internal&quot;&gt;书籍代码地址&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://draveness.me/golang/&quot;&gt;在线书籍地址&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://golang.design/under-the-hood/&quot;&gt;Go 语言原本&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://tiancaiamao.gitbooks.io/go-internals/content/zh/01.1.html&quot;&gt;深入解析go&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;前言&quot;&gt;前言&lt;/h2&gt;

&lt;p&gt;本书主要分为：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;编译原理&lt;/li&gt;
  &lt;li&gt;运行时&lt;/li&gt;
  &lt;li&gt;基础知识&lt;/li&gt;
  &lt;li&gt;进阶知识&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;详细文件结构如下:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://img.draveness.me/2020-02-07-15810644766743-contents-mindnode.png&quot; alt=&quot;文章主要架构图&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Mon, 30 Aug 2021 00:00:00 +0000</pubDate>
        <link>https://wangpengcheng.github.io//2021/08/30/go_desgin_and_implementation_01/</link>
        <guid isPermaLink="true">https://wangpengcheng.github.io//2021/08/30/go_desgin_and_implementation_01/</guid>
        
        <category>go</category>
        
        <category>源码分析</category>
        
        <category>阅读笔记</category>
        
        
      </item>
    
      <item>
        <title>makrdown新语法学习</title>
        <description>&lt;h1 id=&quot;jekyll-spcaeship功能测试&quot;&gt;jekyll-spcaeship功能测试&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;参考链接&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://mermaid-js.github.io/mermaid/#/n00b-gettingStarted&quot;&gt;mermaid文档&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;[e/jekyll-spaceship/edit/master/README.md](https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG4gICAgQWxpY2UtPj4rSm9objogSGVsbG8gSm9obiwgaG93IGFyZSB5b3U_XG4gICAgQWxpY2UtPj4rSm9objogSm9obiwgY2FuIHlvdSBoZWFyIG1lP1xuICAgIEpvaG4tLT4-LUFsaWNlOiBIaSBBbGljZSwgSSBjYW4gaGVhciB5b3UhXG4gICAgSm9obi0tPj4tQWxpY2U6IEkgZmVlbCBncmVhdCFcbiAgICAgICAgICAgICIsIm1lcm1haWQiOiJ7XG4gIFwidGhlbWVcIjogXCJkZWZhdWx0XCJcbn0iLCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6ZmFsc2V9)&quot;&gt;mermaid在线编辑器&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://wangpengcheng.github.io/2020/06/26/uml_learn_note/&quot;&gt;plantuml学习笔记&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.webfx.com/tools/emoji-cheat-sheet/&quot;&gt;Emoji表情列表&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.unicode.org/emoji/charts/full-emoji-list.html&quot;&gt;全表情列表&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.jianshu.com/p/31f075f8e118&quot;&gt;在 markdown 中使用表情符号&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.emojiall.com/zh-hans&quot;&gt;emoji中文查询&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;最新博客完成了升级，为了熟悉新对功能，进行新的语法知识的学习&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;1-mathjax语法&quot;&gt;1. MathJax语法&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://docs.mathjax.org/en/latest/&quot;&gt;MathJax Documentation&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/dabokele/article/details/79577072&quot;&gt;MathJax公式教程&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/110756681&quot;&gt;LaTeX 公式篇&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.jianshu.com/p/22117d964baf&quot;&gt;LATEX公式总结&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;尝试使用公式：
$$\Gamma(z) = \int_0^\infty t^{z-1}e^{-t}dt\,$$&lt;/p&gt;

\[\left \{ 
\begin{array}{c}
a_1x+b_1y+c_1z=d_1 \\
a_2x+b_2y+c_2z=d_2 \\
a_3x+b_3y+c_3z=d_3
\end{array}
\right
\tag{1.1}
.\]

\[f(n)
\begin{cases}
\cfrac n2, &amp;amp;if\ n\ is\ even\\[5ex]
3n + 1, &amp;amp;if\  n\ is\ odd
\end{cases}\]

&lt;h2 id=&quot;2-plantuml语法&quot;&gt;2. PlantUML语法&lt;/h2&gt;

&lt;h2 id=&quot;3-mermaid语法&quot;&gt;3. Mermaid语法&lt;/h2&gt;

&lt;h2 id=&quot;4-media语法&quot;&gt;4. Media语法&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Inline-style:
![]({media-link})

OR

![][{reference}]

[{reference}]: {media-link}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;对于常用视频网站可以直接进行添加&lt;/p&gt;

&lt;p&gt;正常使用如下：&lt;/p&gt;

&lt;iframe src=&quot;//player.bilibili.com/player.html?aid=462256092&amp;amp;bvid=BV1mL411E7Uk&amp;amp;cid=388230485&amp;amp;page=1&quot; scrolling=&quot;no&quot; border=&quot;0&quot; frameborder=&quot;no&quot; framespacing=&quot;0&quot; allowfullscreen=&quot;true&quot; style=&quot;width: 100%;height:480px&quot;&gt; &lt;/iframe&gt;

</description>
        <pubDate>Sun, 15 Aug 2021 00:00:00 +0000</pubDate>
        <link>https://wangpengcheng.github.io//2021/08/15/markdown_learn/</link>
        <guid isPermaLink="true">https://wangpengcheng.github.io//2021/08/15/markdown_learn/</guid>
        
        <category>Markdown</category>
        
        <category>PlantUML</category>
        
        
      </item>
    
      <item>
        <title>jekyll-spcaeship相关功能测试</title>
        <description>&lt;h1 id=&quot;jekyll-spcaeship功能测试&quot;&gt;jekyll-spcaeship功能测试&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;参考链接&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/jeffreytse/jekyll-spaceship&quot;&gt;jekyll-spaceship插件说明&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/jeffreytse/jekyll-deploy-action&quot;&gt;GitHub Action自动编译&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://jekyllrb.com/&quot;&gt;jekyll官方网站&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://jekyllrb.com/docs/installation/macos/&quot;&gt;jekyll mac安装说明&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/jeffreytse/jekyll-spaceship/edit/master/README.md&quot;&gt;标准状况地址&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;table测试&quot;&gt;Table测试&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Stage&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Direct Products&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;ATP Yields&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;Glycolysis&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2 ATP              |&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;^^&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2 NADH&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;3–5 ATP&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;Pyruvaye oxidation&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2 NADH&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;5 ATP&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;Citric acid cycle&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2 ATP              |&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;^^&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;6 NADH&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;15 ATP&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;^^&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2 FADH&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;3 ATP&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;30–32 ATP        ||&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;multiline&quot;&gt;Multiline&lt;/h4&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;:    Easy Multiline   : ||&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt; &lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt; &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Apple&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Banana&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Orange  \&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Apple&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Banana&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Orange  \&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Apple&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Banana&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Orange&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Apple&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Banana&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Orange  \&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Apple&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Banana&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Orange&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Apple&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Banana&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Orange&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;headerless&quot;&gt;Headerless&lt;/h4&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;♜&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;♝&lt;/td&gt;
      &lt;td&gt;♛&lt;/td&gt;
      &lt;td&gt;♚&lt;/td&gt;
      &lt;td&gt;♝&lt;/td&gt;
      &lt;td&gt;♞&lt;/td&gt;
      &lt;td&gt;♜&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;♟&lt;/td&gt;
      &lt;td&gt;♟&lt;/td&gt;
      &lt;td&gt;♟&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;♟&lt;/td&gt;
      &lt;td&gt;♟&lt;/td&gt;
      &lt;td&gt;♟&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;♟&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;♞&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;♗&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;♟&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;♙&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;♘&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;♙&lt;/td&gt;
      &lt;td&gt;♙&lt;/td&gt;
      &lt;td&gt;♙&lt;/td&gt;
      &lt;td&gt;♙&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;♙&lt;/td&gt;
      &lt;td&gt;♙&lt;/td&gt;
      &lt;td&gt;♙&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;♖&lt;/td&gt;
      &lt;td&gt;♘&lt;/td&gt;
      &lt;td&gt;♗&lt;/td&gt;
      &lt;td&gt;♕&lt;/td&gt;
      &lt;td&gt;♔&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;♖&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;cell-alignment&quot;&gt;Cell Alignment&lt;/h4&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;:        Fruits || Food       : ||&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt; &lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt; &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Apple&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;: Apple :&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Apple      \&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Banana&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Banana&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Banana     \&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Orange&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Orange&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Orange&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;:   Rowspan is 4    : |&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;How’s it?&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;^^    A. Peach         |&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1. Fine :&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;^^    B. Orange        |&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;^^ 2. Bad&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;^^    C. Banana        |&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;It’s OK!&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;cell-markdown&quot;&gt;Cell Markdown&lt;/h4&gt;

&lt;p&gt;Sometimes we may need some abundant content (e.g., mathjax, image, video) in Markdown table
Therefore, here we also make markown syntax possible inside a cell.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;:                   MathJax || Image                 : ||&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt; &lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt; &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Apple&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;: Apple :&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Apple                          \&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Banana&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Banana&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Banana                         \&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Orange&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Orange&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Orange&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;:     Rowspan is 4     : |&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;:        How’s it?           :&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;^^     A. Peach          |&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1. ![example](https://jekyllrb.com/img/octojekyll.png &quot;An exemplary image&quot;)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;^^     B. Orange         |&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;^^ 2. $I = \int \rho R^{2} dV$&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;^^     C. Banana         |&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;**It’s OK!**&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;cell-inline-attributes&quot;&gt;Cell Inline Attributes&lt;/h4&gt;

&lt;p id=&quot;id&quot; class=&quot;cls1 cls2 cls1 cls2 .cls3 cls4&quot; title=&quot;hallo you&quot;&gt;{: #id .cls1 .cls2} &lt;!-- #id &lt;=&gt; id=&quot;id&quot;, .cls1 .cls2 &lt;=&gt; class=&quot;cls1 cls2&quot; --&gt;&lt;/p&gt;

&lt;h4 id=&quot;表格测试&quot;&gt;表格测试&lt;/h4&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;:             Here’s an Inline Attribute Lists example                :|||&lt;/th&gt;
      &lt;th&gt; &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;:       :&lt;/td&gt;
      &lt;td&gt;:  &amp;lt;div style=&quot;color: red;&quot;&amp;gt; &amp;lt; Normal HTML Block &amp;gt; &amp;lt;/div&amp;gt; :||&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;^^&lt;/td&gt;
      &lt;td&gt;Red    {: .cls style=&quot;background: orange&quot; }                ||&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;^^ IALs&lt;/td&gt;
      &lt;td&gt;Green  {: #id style=&quot;background: green; color: white&quot; }    ||&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;^^&lt;/td&gt;
      &lt;td&gt;Blue   {: style=&quot;background: blue; color: white&quot; }         ||&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;^^&lt;/td&gt;
      &lt;td&gt;Black  {: color-style text-style }                         ||&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;mathjax-测试&quot;&gt;MathJax 测试&lt;/h3&gt;

&lt;p&gt;$ a * b = c ^ b $&lt;/p&gt;

&lt;p&gt;$ 2^{\frac{n-1}{3}} $&lt;/p&gt;

&lt;p&gt;$ \int_a^b f(x)\,dx. $&lt;/p&gt;

&lt;h3 id=&quot;plantuml测试&quot;&gt;PlantUML测试&lt;/h3&gt;

&lt;p&gt;&lt;img class=&quot;plantuml&quot; src=&quot;http://www.plantuml.com/plantuml/svg/~h407374617274756d6c0a426f62202d3e20416c696365203a2068656c6c6f20776f726c640a40656e64756d6c&quot; /&gt;
OR&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;plantuml&quot; src=&quot;http://www.plantuml.com/plantuml/svg/~h407374617274756d6c0a426f62202d3e20416c696365203a2068656c6c6f0a40656e64756d6c&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;mermaid-usage&quot;&gt;Mermaid Usage&lt;/h3&gt;

&lt;p&gt;&lt;img class=&quot;mermaid&quot; src=&quot;https://mermaid.ink/img/eyJjb2RlIjoicGllIHRpdGxlIFBldHMgYWRvcHRlZCBieSB2b2x1bnRlZXJzXG5cIkRvZ3NcIiA6IDM4NlxuXCJDYXRzXCIgOiA4NVxuXCJSYXRzXCIgOiAzNSIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In19&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;mermaid&quot; src=&quot;https://mermaid.ink/img/eyJjb2RlIjoicGllIHRpdGxlIFBldHMgYWRvcHRlZCBieSB2b2x1bnRlZXJzXG5cIkRvZ3NcIiA6IDM4NlxuXCJDYXRzXCIgOiA4NVxuXCJSYXRzXCIgOiAzNSIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In19&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;mermaid&quot; src=&quot;https://mermaid.ink/img/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG5wYXJ0aWNpcGFudCBBbGljZVxucGFydGljaXBhbnQgQm9iXG5BbGljZS0-PkpvaG46IEhlbGxvIEpvaG4sIGhvdyBhcmUgeW91P1xubG9vcCBIZWFsdGhjaGVja1xuSm9obi0-PkpvaG46IEZpZ2h0IGFnYWluc3QgaHlwb2Nob25kcmlhXG5lbmRcbk5vdGUgcmlnaHQgb2YgSm9objogUmF0aW9uYWwgdGhvdWdodHMgPGJyLz5wcmV2YWlsIVxuSm9obi0tPj5BbGljZTogR3JlYXQhXG5Kb2huLT4-Qm9iOiBIb3cgYWJvdXQgeW91P1xuQm9iLS0-PkpvaG46IEpvbGx5IGdvb2QhIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifX0&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;media-usage&quot;&gt;Media Usage&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;http://open.spotify.com/track/4Dg5moVCTqxAb7Wr8Dq2T5&quot; alt=&quot;测试&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;//www.html5rocks.com/en/tutorials/video/basics/devstories.webm&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;//techslides.com/demos/sample-videos/small.ogv?allow=autoplay&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;//techslides.com/demos/sample-videos/small.mp4?width=400&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://www.youtube.com/watch?v=Ptk_1Dc2iPY?width=800&amp;amp;height=500&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://www.dailymotion.com/video/x7tfyq3?width=100%&amp;amp;height=400&amp;amp;autoplay=1&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;8-emoji-usage&quot;&gt;8. Emoji Usage&lt;/h3&gt;

&lt;p&gt;I give this plugin two :+1:!&lt;/p&gt;
</description>
        <pubDate>Sat, 14 Aug 2021 00:00:00 +0000</pubDate>
        <link>https://wangpengcheng.github.io//2021/08/14/jekyll_spaceship_test/</link>
        <guid isPermaLink="true">https://wangpengcheng.github.io//2021/08/14/jekyll_spaceship_test/</guid>
        
        <category>Markdown</category>
        
        <category>jekyll-spaceship</category>
        
        
      </item>
    
      <item>
        <title>protobuf学习笔记</title>
        <description>&lt;h1 id=&quot;protobuf-学习笔记&quot;&gt;protobuf 学习笔记&lt;/h1&gt;

&lt;blockquote&gt;
  &lt;p&gt;2020-10-08 19:57:58&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;0-参考链接&quot;&gt;0 参考链接&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://developers.google.com/protocol-buffers/docs/reference/cpp-generated&quot;&gt;官方文档&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.jianshu.com/p/73c9ed3a4877&quot;&gt;深入 ProtoBuf-编码&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.jianshu.com/p/62f0238beec8&quot;&gt;深入 ProtoBuf - 序列化源码解析&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://colobu.com/2015/01/07/Protobuf-language-guide/&quot;&gt;Protobuf 语法指南&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/protocolbuffers/protobuf&quot;&gt;protobuff源码&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/google/flatbuffers&quot;&gt;flatbuffers源码&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;1-基础语法&quot;&gt;1. 基础语法&lt;/h2&gt;
&lt;p&gt;下面是一个简单的使用示例:&lt;/p&gt;

&lt;div class=&quot;language-c++ highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SearchRequest&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;required&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;optional&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;int32&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;page_number&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;optional&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;int32&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result_per_page&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//设置默认值&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;其中后面的数字编号表示；二进制格式中识别各个字段的，一旦开始使用就不能再改变，[1,15]之内的标识号在编码的时候会占用一个字节，之后的[16,2047]会占用两个字节&lt;/p&gt;

&lt;h3 id=&quot;11-指定字段规则&quot;&gt;1.1 指定字段规则:&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;required: 表示该字段必须&lt;/li&gt;
  &lt;li&gt;optional: 可选项，表示该字段必须有0个或者1个值(不超过一个)&lt;/li&gt;
  &lt;li&gt;repeated: 可重复值，相当于List
基本数值类型的repeated的字段并没有被尽可能地高效编码。在新的代码中，用户应该使用特殊选项[packed=true]来保证更高效的编码。如：&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;注意:在proto3中没有这些选项&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;repeated int32 samples &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 4 &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;packed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;12-基本数据类型&quot;&gt;1.2 基本数据类型&lt;/h3&gt;

&lt;p&gt;proto中定义的基本数据类型会对应不同语言的基本数据类型如下:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;.proto Type&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Notes&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;C++ Type&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Java Type&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Python Type&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Go Type&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;double&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;double&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;double&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;float&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;*float64&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;float&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;float&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;float&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;float&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;*float32&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int32&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Uses variable-length encoding. Inefficient for encoding negative numbers – if your field is likely to have negative values, use sint32 instead.&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int32&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;*int32&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int64&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Uses variable-length encoding. Inefficient for encoding negative numbers – if your field is likely to have negative values, use sint64 instead.&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int64&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;long&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int/long&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;*int64&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint32&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Uses variable-length encoding.&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint32&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int/long&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;*uint32&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint64&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Uses variable-length encoding.&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint64&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;long&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int/long&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;*uint64&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;sint32&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Uses variable-length encoding. Signed int value. These more efficiently encode negative numbers than regular int32s.&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int32&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;*int32&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;sint64&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Usesvariable-length encoding. Signed int value. These more efficiently encode negative numbers than regular int64s.&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int64&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;long&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int/long&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;*int64&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;fixed32&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Always four bytes. More efficient than uint32 if values are often greater than 228.&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint32&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int/long&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;*uint32&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;fixed64&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Always eight bytes. More efficient than uint64 if values are often greater than 256.&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint64&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;long&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int/long&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;*uint64&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;sfixed32&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Always four bytes.&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int32&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;*int32&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;sfixed64&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Always eight bytes.&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int64&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;long&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int/long&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;*int64&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;bool|&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;bool&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;boolean&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;bool&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;*bool&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;string&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;A string must always contain UTF-8 encoded or 7-bit ASCII text.&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;string&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;String&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;unicode (Python 2) or str (Python 3)&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;*string&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;bytes&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;May contain any arbitrary sequence of bytes.&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;string&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;ByteString&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;bytes&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;[]byte&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;13-枚举&quot;&gt;1.3 枚举&lt;/h3&gt;

&lt;p&gt;proto 中可以使用枚举类型作为关键的选择类；同时可以为枚举常量定义别名。需要设置allow_alias option 为 true, 否则 protocol编译器会产生错误信息。&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;enum EnumAllowingAlias &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  option allow_alias &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  UNKNOWN &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 0&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  STARTED &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 1&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  RUNNING &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 1&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

enum EnumNotAllowingAlias &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  UNKNOWN &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 0&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  STARTED &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 1&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  // RUNNING &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 1&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;  // Uncommenting this line will cause a compile error inside Google and a warning message outside.
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;14-扩展&quot;&gt;1.4 扩展&lt;/h3&gt;

&lt;p&gt;proto中允许使用扩展，通过定义相关的序列化字段，允许子类进行进一步的扩展；使用示例如下:&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;// 
message Foo &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  // ...
  // 定义可扩展字段
  extensions 100 to 199&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

// 继承并定义

extend Foo &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  optional int32 bar &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 126&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;15-导入定义&quot;&gt;1.5 导入定义&lt;/h3&gt;

&lt;p&gt;可以通过导入（importing）其他.proto文件中的定义来使用它们。要导入其他.proto文件的定义，你需要在你的文件中添加一个导入声明，如：&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;import &lt;span class=&quot;s2&quot;&gt;&quot;myproject/other_protos.proto&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;16-oneof&quot;&gt;1.6 Oneof&lt;/h3&gt;

&lt;p&gt;如果你的消息中有很多可选字段， 并且同时至多一个字段会被设置， 你可以加强这个行为，使用oneof特性节省内存.&lt;/p&gt;

&lt;p&gt;Oneof字段就像可选字段， 除了它们会共享内存， 至多一个字段会被设置。 设置其中一个字段会清除其它oneof字段。 你可以使用case()或者WhichOneof() 方法检查哪个oneof字段被设置，使用示例如下:&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;message SampleMessage &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  oneof test_oneof &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
     string name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 4&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
     SubMessage sub_message &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 9&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;然后你可以增加oneof字段到 oneof 定义中. 你可以增加任意类型的字段, 但是不能使用 required, optional, repeated 关键字.&lt;/p&gt;

&lt;p&gt;在产生的代码中, oneof字段拥有同样的 getters 和setters， 就像正常的可选字段一样. 也有一个特殊的方法来检查到底那个字段被设置. 你可以在相应的语言API中找到oneof API介绍.&lt;/p&gt;

&lt;p&gt;Oneof 特性:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;设置oneof会自动清楚其它oneof字段的值. 所以设置多次后，只有最后一次设置的字段有值.&lt;/li&gt;
  &lt;li&gt;oneof不支持扩展.&lt;/li&gt;
  &lt;li&gt;oneof不能 repeated.&lt;/li&gt;
  &lt;li&gt;反射API对oneof 字段有效.&lt;/li&gt;
  &lt;li&gt;如果使用C++,需确保代码不会导致内存泄漏. 下面的代码会崩溃， 因为sub_message 已经通过set_name()删除了.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-c++ highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;SampleMessage&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;SubMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub_message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mutable_sub_message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;“&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;”&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;      &lt;span class=&quot;c1&quot;&gt;// Will delete sub_message&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sub_message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;…&lt;/span&gt;         
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;17-包package&quot;&gt;1.7 包(package)&lt;/h3&gt;

&lt;p&gt;当然可以为.proto文件新增一个可选的package声明符，用来防止不同的消息类型有命名冲突&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package foo.bar&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
message Open &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; ... &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;18-定义服务service&quot;&gt;1.8 定义服务(Service)&lt;/h3&gt;

&lt;p&gt;可以在.proto文件中定义一个RPC服务接口，protocol buffer编译器将会根据所选择的不同语言生成服务接口代码及存根。如，想要定义一个RPC服务并具有一个方法，该方法能够接收 SearchRequest并返回一个SearchResponse，此时可以在.proto文件中进行如下定义：&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;service SearchService &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  rpc Search &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;SearchRequest&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; returns &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;SearchResponse&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;protocol编译器将产生一个抽象接口SearchService以及一个相应的存根实现。存根将所有的调用指向RpcChannel，它是一 个抽象接口，必须在RPC系统中对该接口进行实现。如，可以实现RpcChannel以完成序列化消息并通过HTTP方式来发送到一个服务器。换句话说， 产生的存根提供了一个类型安全的接口用来完成基于protocolbuffer的RPC调用，而不是将你限定在一个特定的RPC的实现中。C++中的代码 如下所示：&lt;/p&gt;
&lt;div class=&quot;language-c++ highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;google&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;protobuf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;protobuf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RpcChannel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;channel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;protobuf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RpcController&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;controller&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;SearchService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;SearchRequest&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;SearchResponse&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;DoSearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// You provide classes MyRpcChannel and MyRpcController, which implement&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// the abstract interfaces protobuf::RpcChannel and protobuf::RpcController.&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;channel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MyRpcChannel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;somehost.example.com:1234&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;controller&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MyRpcController&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// The protocol compiler generates the SearchService class based on the&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// definition given above.&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;service&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SearchService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Stub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;channel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// Set up the request.&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;protocol buffers&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// Execute the RPC.&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;controller&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;protobuf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NewCallback&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;channel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;controller&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;所有service类都必须实现Service接口，它提供了一种用来调用具体方法的方式，即在编译期不需要知道方法名及它的输入、输出类型。在服务器端，通过服务注册它可以被用来实现一个RPC Server。&lt;/p&gt;

&lt;div class=&quot;language-c++ highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;google&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;protobuf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ExampleSearchService&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SearchService&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;nl&quot;&gt;public:&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;protobuf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RpcController&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;controller&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
              &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SearchRequest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
              &lt;span class=&quot;n&quot;&gt;SearchResponse&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
              &lt;span class=&quot;n&quot;&gt;protobuf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Closure&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;google&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add_result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://www.google.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;protocol buffers&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add_result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://protobuf.googlecode.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// You provide class MyRpcServer.  It does not have to implement any&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// particular interface; this is just an example.&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;MyRpcServer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;protobuf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Service&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;service&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ExampleSearchService&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ExportOnPort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1234&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;19-选项options&quot;&gt;1.9 选项（Options）&lt;/h3&gt;

&lt;p&gt;在定义.proto文件时能够标注一系列的options。Options并不改变整个文件声明的含义，但却能够影响特定环境下处理方式。完整的可用选项可以在google/protobuf/descriptor.proto找到。&lt;/p&gt;

&lt;p&gt;一些选项是文件级别的，意味着它可以作用于最外范围，不包含在任何消息内部、enum或服务定义中。一些选项是消息级别的，意味着它可以用在消息定 义的内部。当然有些选项可以作用在域、enum类型、enum值、服务类型及服务方法中。到目前为止，并没有一种有效的选项能作用于所有的类型。&lt;/p&gt;

&lt;p&gt;常用选项类型如下:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;optimize_for (fileoption): 可以被设置为 SPEED, CODE_SIZE,or LITE_RUNTIME。这些值将通过如下的方式影响C++及java代码的生成：
    &lt;ul&gt;
      &lt;li&gt;SPEED (default): protocol buffer编译器将通过在消息类型上执行序列化、语法分析及其他通用的操作。这种代码是最优的。&lt;/li&gt;
      &lt;li&gt;CODE_SIZE: protocol buffer编译器将会产生最少量的类，通过共享或基于反射的代码来实现序列化、语法分析及各种其它操作。采用该方式产生的代码将比SPEED要少得多， 但是操作要相对慢些。当然实现的类及其对外的API与SPEED模式都是一样的。这种方式经常用在一些包含大量的.proto文件而且并不盲目追求速度的 应用中。&lt;/li&gt;
      &lt;li&gt;LITE_RUNTIME: protocol buffer编译器依赖于运行时核心类库来生成代码（即采用libprotobuf-lite 替代libprotobuf）。这种核心类库由于忽略了一 些描述符及反射，要比全类库小得多。这种模式经常在移动手机平台应用多一些。编译器采用该模式产生的方法实现与SPEED模式不相上下，产生的类通过实现 MessageLite接口，但它仅仅是Messager接口的一个子集。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;cc_generic_services, java_generic_services, py_generic_services (file options):protocol buffer编译器是否应该基于服务定义产生抽象服务代码。&lt;/li&gt;
  &lt;li&gt;message_set_wire_format (message option)：如果该值被设置为true，该消息将使用一种不同的二进制格式来与Google内部的MessageSet的老格式相兼容。对于Google外部的用户来说，该选项将不会被用到。&lt;/li&gt;
  &lt;li&gt;packed (field option): 如果该选项在一个整型基本类型上被设置为真，则采用更紧凑的编码方式。&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;110-自定义选项&quot;&gt;1.10 自定义选项&lt;/h3&gt;

&lt;p&gt;ProtocolBuffers允许自定义并使用选项。该功能应该属于一个高级特性，对于大部分人是用不到的。由于options是定在 google/protobuf/descriptor.proto中的，因此你可以在该文件中进行扩展，定义自己的选项。如：&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;import &lt;span class=&quot;s2&quot;&gt;&quot;google/protobuf/descriptor.proto&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
extend google.protobuf.MessageOptions &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  optional string my_option &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 51234&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
message MyMessage &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  option &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;my_option&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Hello world!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;在上述代码中，通过对MessageOptions进行扩展定义了一个新的消息级别的选项。当使用该选项时，选项的名称需要使用（）包裹起来，以表明它是一个扩展。在C++代码中可以看出my_option是以如下方式被读取的。&lt;/p&gt;

&lt;div class=&quot;language-c++ highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MyMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;descriptor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GetExtension&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;my_option&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;continue&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</description>
        <pubDate>Sun, 25 Oct 2020 00:00:00 +0000</pubDate>
        <link>https://wangpengcheng.github.io//2020/10/25/protobuf_learn_note/</link>
        <guid isPermaLink="true">https://wangpengcheng.github.io//2020/10/25/protobuf_learn_note/</guid>
        
        <category>C++</category>
        
        <category>序列化</category>
        
        
      </item>
    
  </channel>
</rss>
